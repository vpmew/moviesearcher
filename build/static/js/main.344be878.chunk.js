(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(n,e,t){n.exports=t.p+"static/media/img404.b5878b22.jpg"},21:function(n,e,t){n.exports=t.p+"static/media/heart-off-light.5d17a3da.svg"},22:function(n,e,t){n.exports=t.p+"static/media/heart-off-dark.e6484ba2.svg"},23:function(n,e,t){n.exports=t.p+"static/media/heart-on.a8f9ebb6.svg"},35:function(n,e,t){n.exports=t.p+"static/media/default-avatar.e5bc1ca7.jpg"},39:function(n,e,t){n.exports=t.p+"static/media/nm-light.53064712.svg"},40:function(n,e,t){n.exports=t.p+"static/media/nm-dark.db93f0cd.svg"},41:function(n,e,t){n.exports=t.p+"static/media/home-ico-light.f5214838.svg"},42:function(n,e,t){n.exports=t.p+"static/media/home-ico-dark.ffa71548.svg"},44:function(n,e,t){n.exports=t(67)},49:function(n,e,t){},67:function(n,e,t){"use strict";t.r(e);var a=t(0),i=t.n(a),o=t(16),r=t.n(o),l=(t(49),t(4)),c=t(17),s=t(26),d=t(18),g=t(19),u=t(24),m=t(20),h=t(25),p=t(1),f=t(2),v={version:"2.0.0",widthS:"320px",widthM:"768px",widthL:"991px",backgroundColorLight:"#E9F7F9",backgroundColorDark:"#0C2427",fontColorLight:"#FFE4AA",fontColorDark:"#0C2427",fontSizeS:"14px",lineHeightS:"20px",fontSizeM:"22px",lineHeightM:"28px",fontSizeL:"22px",lineHeightL:"28px"};function b(){var n=Object(p.a)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0, 0, 0, 0.3);\n  z-index: 3;\n\n  & .box {\n    display: flex;\n    position: fixed;\n    z-index: 4;\n    width: 120px;\n    height: 40px;\n    left: calc(50% - 60px);\n    top: calc(30% - 20px);\n    font-size: 1.4em;\n    font-weight: bold;\n    text-align: center;\n    background-color: ",";\n    color: ",";\n    border: 2px solid\n      ",";\n  }\n\n  & span {\n    margin: auto;\n  }\n\n  @media (min-width: ",") {\n    & .box {\n      width: 160px;\n      height: 50px;\n      left: calc(50% - 80px);\n      top: calc(30% - 25px);\n      font-size: 1.2em;\n    }\n  }\n"]);return b=function(){return n},n}var w=Object(f.a)(function(n){var e=n.children,t=n.className;return i.a.createElement("div",{className:t},i.a.createElement("div",{className:"box"},i.a.createElement("span",null,e)))})(b(),function(n){return n.nightmode?v.backgroundColorDark:v.backgroundColorLight},function(n){return n.nightmode?v.fontColorLight:v.fontColorDark},function(n){return n.nightmode?v.fontColorLight:v.fontColorDark},v.widthM);function x(){var n=Object(p.a)(["\n  position: relative;\n  padding: 20px 0;\n  margin-top: auto;\n\n  & p {\n    margin: 0;\n  }\n\n  & span {\n    display: block;\n    text-align: center;\n    margin-bottom: 5px;\n  }\n\n  & .version {\n    font-size: 0.8em;\n  }\n\n  & a {\n    position: relative;\n    font-weight: bold;\n    text-decoration: none;\n    color: ",';\n\n    &::before {\n      display: none;\n      content: "";\n      position: absolute;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      height: 2px;\n\n      background-color: ',';\n    }\n\n    &:hover::before {\n      display: block;\n    }\n  }\n\n  &::after {\n    content: "";\n    position: absolute;\n    height: 2px;\n    left: 0;\n    right: 0;\n    top: 0;\n    background-color: lightgrey;\n  }\n']);return x=function(){return n},n}var E=Object(f.a)(function(n){var e=n.className;return i.a.createElement("footer",{className:e},i.a.createElement("p",null,i.a.createElement("span",null,"App created by ",i.a.createElement("a",{href:"https://vpmew.github.io/usercard/"},"vpmew"),"."),i.a.createElement("span",null,"Database provided by ",i.a.createElement("a",{href:"https://www.themoviedb.org/"},"TMDb"),"."),i.a.createElement("span",{className:"version"},"Version: ".concat(v.version))))})(x(),function(n){return n.nightmode?v.fontColorLight:v.fontColorDark},function(n){return n.nightmode?v.fontColorLight:v.fontColorDark});function F(){var n=Object(p.a)(["\n  background-color: ",";\n  color: ",';\n  font-family: "Monda", "Arial", sans-serif;\n  font-size: ',";\n  line-height: ",";\n\n  box-sizing: border-box;\n  & *,\n  *::before,\n  *::after {\n    box-sizing: inherit;\n  }\n\n  @media (min-width: ",") {\n    font-size: ",";\n    line-height: ",";\n  }\n\n  @media (min-width: ",") {\n    font-size: ",";\n    line-height: ",";\n  }\n"]);return F=function(){return n},n}var k=f.a.div(F(),function(n){return n.nightmode?v.backgroundColorDark:v.backgroundColorLight},function(n){return n.nightmode?v.fontColorLight:v.fontColorDark},v.fontSizeS,v.lineHeightS,v.widthM,v.fontSizeM,v.lineHeightM,v.widthL,v.fontSizeL,v.lineHeightL);function y(){var n=Object(p.a)(["\n  width: ",";\n  margin: 0 auto;\n  min-height: 100vh;\n  display: flex;\n  flex-flow: column;\n\n  @media (min-width: ",") {\n    width: ",";\n  }\n\n  @media (min-width: ",") {\n    width: ",";\n  }\n"]);return y=function(){return n},n}var N=f.a.div(y(),v.widthS,v.widthM,v.widthM,v.widthL,v.widthL),M=function(n){var e=n.results;return Object(l.a)(e).sort(function(n,e){return n.vote_count/1e3+n.vote_average-(e.vote_count/1e3+e.vote_average)}).reverse()},O=t(35),S=t.n(O),j=t(10),C=t(36),L=t.n(C),_={getGenresQuery:function(){return"https://api.themoviedb.org/3/genre/movie/list?api_key=7eab7ddc9f76337597b66b8eae0b15a9&language=en-US"},getBestFilmsQuery:function(n){return"https://api.themoviedb.org/3/movie/top_rated?api_key=7eab7ddc9f76337597b66b8eae0b15a9&language=en-US&page=".concat(n)},getFilteredFilmsQuery:function(n,e,t){return"https://api.themoviedb.org/3/discover/movie?api_key=7eab7ddc9f76337597b66b8eae0b15a9&language=en-US&sort_by=".concat(n,"&include_adult=false&include_video=false&page=").concat(e,"&with_genres=").concat(t)},getSearchByStringQuery:function(n,e){return"https://api.themoviedb.org/3/search/movie?api_key=7eab7ddc9f76337597b66b8eae0b15a9&language=".concat(n,"&query=").concat(e,"&page=1&include_adult=false")},getFilmDataQuery:function(n){return"https://api.themoviedb.org/3/movie/".concat(n,"?api_key=7eab7ddc9f76337597b66b8eae0b15a9&language=en-US")},getSimilarFilmsQuery:function(n,e){return"https://api.themoviedb.org/3/movie/".concat(n,"/similar?api_key=7eab7ddc9f76337597b66b8eae0b15a9&language=en-US&page=").concat(e)}},D=t(14),z=t.n(D),I=t(21),T=t.n(I),B=t(22),P=t.n(B),A=t(23),V=t.n(A),Q=t(8);function G(){var n=Object(p.a)(["\n  position: relative;\n  width: 100%;\n  height: 120px;\n  display: flex;\n  flex-shrink: 0;\n  border-bottom: 2px solid\n    ",";\n\n  & .poster {\n    width: 25%;\n    overflow: hidden;\n    background-image: ",";\n    background-repeat: no-repeat;\n    background-size: cover;\n\n    & img {\n      display: none;\n      width: 100%;\n      height: auto;\n    }\n  }\n\n  & p {\n    position: relative;\n    width: 75%;\n    max-height: 100%;\n    overflow: hidden;\n    display: flex;\n    flex-flow: column wrap;\n    flex-grow: 1;\n    align-self: stretch;\n    margin: 0;\n\n    & a {\n      width: calc(100% - 40px);\n      padding-left: 10px;\n      padding-top: 5px;\n      color: inherit;\n      font-size: 1.2em;\n      font-weight: bold;\n      text-decoration: none;\n\n      &:hover {\n        text-decoration: underline;\n      }\n      max-height: 40%;\n    }\n\n    & .genres {\n      font-style: italic;\n      width: 80%;\n      padding-left: 10px;\n      padding-right: 10px;\n      font-size: 0.9em;\n      max-height: 40%;\n    }\n\n    & .date {\n      padding-left: 10px;\n      max-height: 20%;\n    }\n\n    & .wrapper {\n      position: absolute;\n      right: 0;\n      bottom: 0;\n      display: flex;\n      flex-direction: column;\n      align-items: flex-end;\n\n      & .vote-avg {\n        background-color: ",";\n        font-size: 1.8em;\n        padding: 5px;\n        color: ",';\n      }\n\n      & .vote-count {\n        margin-left: 10px;\n        align-self: flex-end;\n        font-size: 0.7em;\n      }\n    }\n  }\n\n  & .toFav {\n    position: absolute;\n    content: "";\n    right: 0;\n    top: 0;\n    width: 40px;\n    height: 40px;\n    padding: 0;\n    border: none;\n    background-repeat: no-repeat;\n    background-size: 50% 50%;\n    background-position: 50% 50%;\n    background-color: transparent;\n    background-image: ',";\n    cursor: pointer;\n    &:hover {\n      background-size: 60% 60%;\n      opacity: ",";\n    }\n  }\n\n  @media (min-width: ",") {\n    height: 120px;\n\n    & p {\n      & a {\n        width: calc(100% - 50px);\n        font-size: 0.9em;\n        line-height: 1.2em;\n      }\n\n      & .genres {\n        padding-top: 5px;\n        font-size: 0.7em;\n        line-height: 1.2em;\n      }\n\n      & .date {\n        padding-top: 5px;\n        font-size: 0.7em;\n        line-height: 1.2em;\n      }\n\n      & .wrapper {\n        & .vote-avg {\n          font-size: 1.6em;\n        }\n\n        & .vote-count {\n          font-size: 0.5em;\n        }\n      }\n    }\n    & .toFav {\n      width: 50px;\n      height: 50px;\n      background-size: 70% 70%;\n      background-position: 50% 50%;\n      &:hover {\n        background-size: 80% 80%;\n      }\n    }\n  }\n"]);return G=function(){return n},n}var U=Object(f.a)(function(n){var e,t=n.id,a=n.title,o=n.poster_path,r=n.className,c=n.release_date,s=n.vote_average,d=n.vote_count,g=n.genres_ids,u=n.genres,m=n.genresOfFilm,h=n.toggleFilmToFav,p=document.documentElement.clientWidth,f=p<=Number.parseInt(v.widthM)?35:p<=Number.parseInt(v.widthL)?40:45,b=p<=Number.parseInt(v.widthM)?40:p<=Number.parseInt(v.widthL)?60:65;c&&(e=new Date(c).getFullYear());var w=[];if(m)w=m.split(", ");else if(g)for(var x in u)~g.indexOf(u[x].id)&&(w=[].concat(Object(l.a)(w),[String(x)]));w=w.join(", ").length>b?w.join(", ").slice(0,b-3)+"...":w.join(", ");var E=null;return a.length>f&&(E=a.slice(0,f-3)+"..."),i.a.createElement("li",{className:r},i.a.createElement("div",{className:"poster"},i.a.createElement("img",{src:o?"https://image.tmdb.org/t/p/w400/".concat(o):z.a,alt:a})),i.a.createElement("p",null,a?i.a.createElement(Q.b,{to:"/filmpage/".concat(t)},i.a.createElement("span",{className:"title"},E||a)):"No Title",w.length>0?i.a.createElement("span",{className:"genres"},w):null,c?i.a.createElement("time",{className:"date",dateTime:c},e):null,i.a.createElement("span",{className:"wrapper"},s?i.a.createElement("span",{className:"vote-avg"},1===String(s).length?[].concat(Object(l.a)(String(s).split("")),[".","0"]).join(""):s):null,d?i.a.createElement("span",{className:"vote-count"},"(",d," votes)"):null)),i.a.createElement("button",{className:"toFav",onClick:function(){h({id:t,poster_path:o,title:a,release_date:c,vote_average:s,vote_count:d,genresOfFilm:w})}}))})(G(),function(n){return n.nightmode?v.fontColorLight:v.fontColorDark},function(n){return n.poster_path?"url(https://image.tmdb.org/t/p/w400/".concat(n.poster_path,")"):"url(".concat(z.a,")")},function(n){return n.nightmode?"transparent":v.fontColorDark},function(n){return n.vote_average>=7?"mediumseagreen":n.vote_average>=5?"#f3f300":n.vote_average>=3?"orange":"orangered"},function(n){return n.favorites.some(function(e){return Number(e.id)===Number(n.id)})?"url(".concat(V.a,")"):n.nightmode?"url(".concat(T.a,")"):"url(".concat(P.a,")")},function(n){return n.favorites.some(function(e){return Number(e.id)===Number(n.id)})?"0.5":"1"},v.widthM);function R(){var n=Object(p.a)(["\n  width: 100%;\n  overflow-y: scroll;\n  box-shadow: none;\n  border: 2px solid\n    ",";\n  max-height: 600px;\n  background-color: ",";\n  color: ",";\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  box-shadow: -1px 2px 3px 0\n    ",";\n\n  & li:last-child {\n    border-bottom: none;\n  }\n"]);return R=function(){return n},n}var H=i.a.forwardRef(function(n,e){var t=n.matchFilms,a=n.className,o=n.nightmode,r=n.genres,l=n.toggleFilmToFav,c=n.favorites,s=n.autoLoading,d=n.autoLoadingFunction,g=s?Object(j.debounce)(s,500):null;return i.a.createElement("ul",{ref:e,className:a,onScroll:function(n){n.persist(),s&&g(n.target,d)}},t.map(function(n){return i.a.createElement(U,{key:n.id,id:n.id,title:n.title,poster_path:n.poster_path,nightmode:o,release_date:n.release_date,vote_average:n.vote_average,vote_count:n.vote_count,genres_ids:n.genre_ids,genres:r,genresOfFilm:n.genresOfFilm,toggleFilmToFav:l,favorites:c})}))}),J=Object(f.a)(H)(R(),function(n){return n.nightmode?v.fontColorLight:v.fontColorDark},function(n){return n.nightmode?v.backgroundColorDark:v.backgroundColorLight},function(n){return n.nightmode?v.fontColorLight:v.fontColorDark},function(n){return n.nightmode?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.4)"});function Y(){var n=Object(p.a)(["\n  width: 100%;\n  height: 40px;\n  border: 2px solid\n    ",";\n  font-size: inherit;\n  font-family: inherit;\n  background-color: ",";\n  color: inherit;\n  padding: 0 15px;\n  transition: box-shadow 0.1s ease;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:hover {\n    box-shadow: inset -1px 1px 3px 0 ",";\n  }\n\n  @media (min-width: ",") {\n    height: 45px;\n  }\n\n  @media (min-width: ",") {\n    height: 50px;\n  }\n"]);return Y=function(){return n},n}var $=f.a.input(Y(),function(n){return n.nightmode?v.fontColorLight:v.fontColorDark},function(n){return n.nightmode?v.backgroundColorDark:v.backgroundColorLight},function(n){return n.nightmode?v.fontColorLight:v.fontColorDark},function(n){return n.nightmode?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.4)"},v.widthM,v.widthL);function q(){var n=Object(p.a)(["\n  position: relative;\n  width: 100%;\n  margin-bottom: 10px;\n  z-index: 2;\n\n  & .overlay {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 1;\n    background: rgba(0, 0, 0, 0.3);\n  }\n\n  & .wrapper {\n    position: relative;\n    z-index: 2;\n  }\n\n  & .clearButton {\n    position: absolute;\n    right: 10px;\n    top: 5px;\n    height: 30px;\n    width: 50px;\n    border: none;\n    background: transparent;\n    font-size: inherit;\n    color: inherit;\n    text-decoration: underline;\n    cursor: pointer;\n  }\n\n  & ul {\n    overflow-y: scroll;\n    position: absolute;\n    top: 100%;\n    right: 0;\n  }\n\n  @media (min-width: ",") {\n    width: 60%;\n\n    & .clearButton {\n      top: 7px;\n      width: 70px;\n    }\n  }\n\n  @media (min-width: ",") {\n    width: 45%;\n    margin-top: auto;\n    margin-bottom: auto;\n\n    & .clearButton {\n      top: 10px;\n    }\n  }\n"]);return q=function(){return n},n}var K=Object(f.a)(function(n){var e,t=n.className,a=n.searching,o=n.searchValue,r=n.loading,l=n.nightmode,c=n.matchFilms,s=n.genres,d=n.favorites,g=n.methods;return i.a.createElement("div",{className:t},a&&o&&!r?i.a.createElement("div",{className:"overlay",onClick:g.disableSearching}):null,i.a.createElement("div",{className:"wrapper"},i.a.createElement($,{placeholder:"Find a movie...",value:o,ref:function(n){return e=n},onChange:function(n){g.changeSearchValue(n),setTimeout(function(){return g.searchFilms()},0)},onClick:g.enableSearching,onKeyDown:function(n){27===n.keyCode&&(g.disableSearching(),n.target.blur())},type:"text",nightmode:l}),a&&o?i.a.createElement("button",{className:"clearButton",type:"button",onClick:function(){return g.clearSearchValue(e)}},"Clear"):null,a&&c?i.a.createElement(J,{matchFilms:c,nightmode:l,genres:s,toggleFilmToFav:g.toggleFilmToFav,favorites:d}):null))})(q(),v.widthM,v.widthL);function W(){var n=Object(p.a)(["\n  width: ",";\n  display: flex;\n  flex-shrink: 0;\n  justify-content: ",";\n\n  & *:nth-child(n + 2) {\n    margin-left: -2px;\n  }\n\n  @media (min-width: ",") {\n    width: ",";\n    margin-left: -2px;\n  }\n\n  @media (min-width: ",") {\n    width: ",";\n    margin-left: 0;\n  }\n"]);return W=function(){return n},n}var X=f.a.div(W(),function(n){return n.width?n.width:"100%"},function(n){return n.justify?n.justify:"space-between"},v.widthM,function(n){return n.width?n.width:"calc(40% + 2px)"},v.widthL,function(n){return n.width?n.width:"45%"}),Z=t(39),nn=t.n(Z),en=t(40),tn=t.n(en);function an(){var n=Object(p.a)(["\n  width: ",";\n  height: 40px;\n  cursor: pointer;\n  border: 2px solid\n    ",";\n  color: ",";\n  font-size: ",";\n  font-family: inherit;\n  background-color: ",";\n  background-image: ",";\n  background-size: 100% 70%;\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  transition: box-shadow 0.1s ease;\n\n  &:hover {\n    box-shadow: -1px 2px 3px 0\n      ",";\n  }\n\n  &:active {\n    color: ",";\n    background-color: ",";\n  }\n\n  @media (min-width: ",") {\n    height: 45px;\n    width: ",";\n  }\n\n  @media (min-width: ",") {\n    height: 50px;\n  }\n"]);return an=function(){return n},n}var on=f.a.button(an(),function(n){return n.width?n.width:"Night mode"===n.name?"calc(33% / 2)":"33%"},function(n){return n.nightmode?v.fontColorLight:v.fontColorDark},function(n){var e=n.menuIsOpen&&n.openedMenuName===n.name;return n.nightmode&&e?v.fontColorDark:n.nightmode&&!e?v.fontColorLight:!n.nightmode&&e?v.backgroundColorLight:n.nightmode||e?void 0:v.fontColorDark},function(n){return n.fontSize?n.fontSize:"Night mode"===n.name?"0":"inherit"},function(n){var e=n.menuIsOpen&&n.openedMenuName===n.name;return n.nightmode&&e?v.fontColorLight:n.nightmode&&!e?"transparent":!n.nightmode&&e?v.backgroundColorDark:n.nightmode||e?void 0:"transparent"},function(n){return n.image?"url(".concat(n.image,")"):"Night mode"===n.name&&n.nightmode?"url(".concat(nn.a,")"):"Night mode"!==n.name||n.nightmode?"none":"url(".concat(tn.a,")")},function(n){return n.nightmode?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.4)"},function(n){return n.nightmode?v.fontColorDark:v.backgroundColorLight},function(n){return n.nightmode?v.fontColorLight:v.backgroundColorDark},v.widthM,function(n){return n.width?n.width:"Night mode"===n.name?"20%":"calc(40% + 2px)"},v.widthL);function rn(){var n=Object(p.a)(["\n  color: ",";\n  font-weight: bold;\n  border: 2px solid ",";\n  width: ",";\n  padding: 5px 10px;\n  text-align: center;\n  margin: ",";\n"]);return rn=function(){return n},n}var ln=f.a.p(rn(),function(n){return n.color},function(n){return n.color},function(n){return n.width},function(n){return n.margin||"auto"}),cn=i.a.createContext();function sn(){var n=Object(p.a)(["\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n  padding-top: 10px;\n\n  & input:not(:checked) ~ span:hover {\n    text-decoration: underline;\n  }\n\n  & fieldset {\n    margin: 0;\n    border: 2px solid\n      ",';\n\n    & legend {\n      font-size: 18px;\n      padding: 0 10px;\n    }\n\n    & label {\n      width: 100%;\n      height: 35px;\n    }\n\n    & div {\n      display: flex;\n      flex-direction: column;\n      flex-wrap: wrap;\n      height: 100%;\n      align-content: space-between;\n    }\n  }\n\n  & .genres {\n    width: 100%;\n    height: 380px;\n\n    & label {\n      width: 45%;\n\n      & input {\n        display: none;\n      }\n      & span {\n        position: relative;\n        display: block;\n        cursor: pointer;\n        width: 100%;\n        height: 100%;\n        text-align: left;\n        padding-left: 25px;\n        padding-top: 6px;\n\n        &::before {\n          content: "";\n          position: absolute;\n          top: 8px;\n          left: 0;\n          width: 16px;\n          height: 16px;\n          border: 2px solid\n            ',";\n          transition: transform 0.3s;\n        }\n      }\n      & input:checked ~ span::before {\n        width: 21px;\n        height: 10px;\n        border-width: 4px;\n        border-color: ",';\n        border-top: none;\n        border-right: none;\n        transform: rotate(-45deg);\n      }\n    }\n  }\n\n  & .sort-by,\n  .direction {\n    width: 48%;\n    margin: 10px 0 0;\n  }\n\n  & .sort-by {\n    & input {\n      display: none;\n    }\n\n    & span {\n      position: relative;\n      display: block;\n      cursor: pointer;\n      width: 100%;\n      height: 100%;\n      text-align: left;\n      padding-left: 25px;\n      padding-top: 6px;\n\n      &::before,\n      &::after {\n        position: absolute;\n        top: 8px;\n        left: 0;\n        content: "";\n        border-radius: 50%;\n      }\n\n      &::before {\n        width: 16px;\n        height: 16px;\n        border: 2px solid\n          ',";\n      }\n      &::after {\n        width: 16px;\n        height: 16px;\n        background: ",';\n        transform: scale(0);\n        transition: transform 0.3s;\n      }\n    }\n\n    & input[type="radio"]:checked ~ span::after {\n      transform: scale(1.1);\n    }\n  }\n\n  & .direction {\n    & input {\n      display: none;\n    }\n\n    & span {\n      position: relative;\n      display: block;\n      cursor: pointer;\n      width: 100%;\n      height: 100%;\n      text-align: left;\n      padding-left: 25px;\n      padding-top: 6px;\n\n      &::before {\n        position: absolute;\n        top: 8px;\n        left: 0;\n        content: "";\n        width: 0;\n        height: 0;\n        border-top: 16px solid\n          ',";\n        border-bottom: 0px solid transparent;\n        border-right: 10px solid transparent;\n        border-left: 10px solid transparent;\n\n        transition: ",";\n      }\n    }\n\n    & label:first-child {\n      & span::before {\n        border-bottom: 16px solid\n          ",";\n        border-top: 0px solid transparent;\n\n        transition: ",";\n      }\n    }\n  }\n\n  @media (min-width: ",") {\n    width: 100%;\n    .genres {\n      width: 60%;\n      height: 400px;\n\n      & label span {\n        padding-top: 0;\n        line-height: 32px;\n      }\n    }\n    .sort-by {\n      width: 35%;\n      height: 240px;\n      margin: 0;\n\n      & label span {\n        padding-top: 0;\n        line-height: 32px;\n      }\n    }\n\n    .direction {\n      width: 35%;\n      height: 160px;\n      margin-top: -160px;\n      margin-left: 65%;\n\n      & label span {\n        padding-top: 0;\n        line-height: 32px;\n      }\n    }\n\n    & fieldset {\n      & legend {\n        font-size: inherit;\n      }\n    }\n  }\n\n  @media (min-width: ",") {\n    order: 3;\n\n    & .genres {\n      width: 65%;\n      height: 300px;\n\n      & label {\n        width: calc(100% / 3);\n      }\n    }\n\n    & .sort-by {\n      width: 30%;\n      height: 180px;\n    }\n\n    & .direction {\n      width: 30%;\n      height: 115px;\n      margin-top: -115px;\n      margin-left: 70%;\n    }\n  }\n"]);return sn=function(){return n},n}var dn=Object(f.a)(function(n){var e=n.className;return i.a.createElement(cn.Consumer,null,function(n){var t=n.genres,a=n.sortingOptions,o=n.sortBy,r=n.direction,l=n.methods,c=Object.keys(t),s=!1;for(var d in t)if(!0===t[d].enabled){s=!0;break}var g=Object(j.debounce)(l.getFilteredMovies,1500);return i.a.createElement("form",{className:e},s?null:i.a.createElement(ln,{color:"orangered",width:"100%",margin:"0 auto 5px"},"Please, choose at least one genre to see results below."),i.a.createElement("fieldset",{className:"genres"},i.a.createElement("legend",null,"Genres:"),i.a.createElement("div",{className:"fieldsetFlexFix"},c.map(function(n){return i.a.createElement("label",{className:"".concat(n.replace(" ","-").toLowerCase()),key:t[n].id},i.a.createElement("input",{onChange:function(n){l.toggleGenre(n),g()},type:"checkbox",name:n,checked:t[n].enabled}),i.a.createElement("span",null,n))}))),i.a.createElement("fieldset",{className:"sort-by"},i.a.createElement("legend",null,"Sort by:"),i.a.createElement("div",{className:"fieldsetFlexFix"},a.map(function(n){return i.a.createElement("label",{key:n},i.a.createElement("input",{type:"radio",name:"sortBy",value:n,checked:n===o,onChange:function(n){l.toggleSorting(n),setTimeout(function(){return l.getFilteredMovies()},0)}}),i.a.createElement("span",null,function(n){var e=n.split("");return e[0]=e[0].toUpperCase(),e.join("")}(n)))}))),i.a.createElement("fieldset",{className:"direction"},i.a.createElement("legend",null,"Direction:"),i.a.createElement("div",{className:"fieldsetFlexFix"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",name:"direction",value:"ascending",checked:"ascending"===r,onChange:function(n){l.toggleDirection(n),setTimeout(function(){return l.getFilteredMovies()},0)}}),i.a.createElement("span",null,"Ascending")),i.a.createElement("label",null,i.a.createElement("input",{type:"radio",name:"direction",value:"descending",checked:"descending"===r,onChange:function(n){l.toggleDirection(n),setTimeout(function(){return l.getFilteredMovies()},0)}}),i.a.createElement("span",null,"Descending")))))})})(sn(),function(n){return n.nightmode?v.fontColorLight:v.fontColorDark},function(n){return n.nightmode?v.fontColorLight:v.fontColorDark},function(n){return n.nightmode?"palegreen":"mediumseagreen"},function(n){return n.nightmode?v.fontColorLight:v.fontColorDark},function(n){return n.nightmode?"palegreen":"mediumseagreen"},function(n){return"descending"===n.direction&&n.nightmode?"palegreen":"descending"!==n.direction||n.nightmode?n.nightmode?v.fontColorLight:n.nightmode?"transparent":v.fontColorDark:"mediumseagreen"},function(n){return"descending"===n.direction?"border-top 0.3s":"none"},function(n){return"ascending"===n.direction&&n.nightmode?"palegreen":"ascending"!==n.direction||n.nightmode?n.nightmode?v.fontColorLight:n.nightmode?"transparent":v.fontColorDark:"mediumseagreen"},function(n){return"ascending"===n.direction?"border-bottom 0.3s":"none"},v.widthM,v.widthL);function gn(){var n=Object(p.a)(["\n  width: 100%;\n  height: auto;\n  border-radius: 50%;\n"]);return gn=function(){return n},n}var un=f.a.img(gn());function mn(){var n=Object(p.a)(["\n  width: 100%;\n  margin: 0 0 10px;\n  font-weight: bold;\n  font-size: 1.2em;\n  text-align: center;\n\n  @media (min-width: ",") {\n    margin: 0;\n  }\n"]);return mn=function(){return n},n}var hn=f.a.p(mn(),v.widthL);function pn(){var n=Object(p.a)(['\n  width: 100%;\n  position: relative;\n\n  & h2 {\n    text-align: center;\n    margin: 15px 0;\n  }\n\n  & .info-message {\n    text-align: center;\n  }\n\n  &::after {\n    content: "";\n    position: absolute;\n    height: 2px;\n    left: 0;\n    right: 0;\n    top: 0;\n    background-color: lightgrey;\n  }\n\n  @media (min-width: ',") {\n    width: 60%;\n    margin: 0 auto;\n\n    &::after {\n      left: -","%;\n      right: -","%;\n    }\n  }\n\n  @media (min-width: ",") {\n    order: 2;\n    width: 45%;\n    margin: 0;\n\n    &::after {\n      top: 0;\n      bottom: 0;\n      right: auto;\n      left: calc(-","% - 1px);\n      width: 2px;\n      height: auto;\n    }\n  }\n"]);return pn=function(){return n},n}var fn=Object(f.a)(function(n){var e=n.favorites,t=n.toggleFilmToFav,a=n.nightmode,o=n.className;return i.a.createElement("section",{className:o},i.a.createElement("h2",null,"Favorites"),e.length>0?i.a.createElement(J,{nightmode:a,matchFilms:e,toggleFilmToFav:t,favorites:e}):i.a.createElement("p",{className:"info-message"},"Favorites is empty"))})(pn(),v.widthM,20/60*100,20/60*100,v.widthL,5/45*100);function vn(){var n=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex-flow: row wrap;\n  flex-shrink: 0;\n  width: 100%;\n  padding: 20px 0;\n\n  .user-info {\n    width: 30%;\n    margin-top: 20px;\n    margin-left: auto;\n    margin-right: auto;\n    align-self: center;\n  }\n\n  .wrapper {\n    display: flex;\n    flex-flow: column;\n  }\n\n  @media (min-width: ",") {\n    & .wrapper {\n      flex-flow: row;\n      justify-content: space-around;\n    }\n\n    & .user-info {\n      width: 15%;\n      margin-top: 0;\n      align-self: flex-start;\n      order: -1;\n      font-size: 0.7em;\n      margin-left: 0;\n      margin-right: 0;\n    }\n\n    & .wrapper > p {\n      width: 65%;\n      margin-right: 0;\n      margin-left: 0;\n    }\n  }\n\n  @media (min-width: ",") {\n    order: 3;\n    padding-bottom: 0;\n    padding-top: 40px;\n\n    & > .wrapper {\n      width: 45%;\n      align-content: flex-start;\n      align-items: flex-start;\n      flex-flow: row wrap;\n    }\n\n    .user-info {\n      width: 30%;\n      margin-bottom: 50px;\n      margin-top: 50px;\n    }\n\n    & .wrapper > p {\n      width: 75%;\n      margin: 0;\n      margin-bottom: 50px;\n    }\n  }\n"]);return vn=function(){return n},n}var bn=Object(f.a)(function(n){var e=n.className;return i.a.createElement(cn.Consumer,null,function(n){var t=n.userName,a=n.userAuthorized,o=n.userAvatar,r=n.defaultAvatar,l=n.defaultName,c=n.favorites,s=n.nightModeIsOn,d=n.methods;return i.a.createElement("div",{className:e},i.a.createElement("div",{className:"wrapper"},t?null:i.a.createElement(ln,{color:"orangered"},"Registration is unavailable at the moment, but you can add films to favorites."),i.a.createElement("div",{className:"user-info"},i.a.createElement(un,{src:a?o:r,alt:"Your avatar"}),i.a.createElement(hn,null,a?t:l))),i.a.createElement(fn,{favorites:c,toggleFilmToFav:d.toggleFilmToFav,nightmode:s}))})})(vn(),v.widthM,v.widthL),wn=function(n){var e,t=n.openedMenuName,a=n.menuIsOpen,o=n.direction,r=n.nightmode;return e="Filters"===t&&a?i.a.createElement(dn,{nightmode:r,direction:o}):"Profile"===t&&a?i.a.createElement(bn,null):null,e};function xn(){var n=Object(p.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  & h1 {\n    width: 100%;\n  }\n\n  @media (min-width: ",") {\n    & h1 {\n      font-size: 1.6em;\n    }\n  }\n\n  @media (min-width: ",") {\n    padding-bottom: 30px;\n    padding-top: 30px;\n\n    & h1 {\n      margin: 0;\n      font-size: 1.8em;\n      width: 45%;\n      margin-top: 30px;\n    }\n\n    & > div:nth-child(2) {\n      order: 2;\n      margin-top: -17px;\n      margin-left: auto;\n    }\n\n    & > div:nth-child(3) {\n      order: 1;\n      margin-top: auto;\n      margin-bottom: 15px;\n    }\n  }\n"]);return xn=function(){return n},n}var En=Object(f.a)(function(n){var e=n.className;return i.a.createElement(cn.Consumer,null,function(n){var t=n.nightModeIsOn,a=n.menuIsOpen,o=n.openedMenuName,r=n.searching,l=n.searchValue,c=n.loading,s=n.matchFilms,d=n.direction,g=n.genres,u=n.favorites,m=n.methods;return i.a.createElement("header",{className:e},i.a.createElement("h1",null,"Moviesearcher"),i.a.createElement(K,{searching:r,searchValue:l,loading:c,nightmode:t,matchFilms:s,genres:g,favorites:u,methods:m}),i.a.createElement(X,null,i.a.createElement(on,{name:"Filters",onClick:m.toggleMenu,nightmode:t,menuIsOpen:a,openedMenuName:o},"Filters"),i.a.createElement(on,{name:"Profile",onClick:m.toggleMenu,nightmode:t,menuIsOpen:a,openedMenuName:o},"Profile"),i.a.createElement(on,{name:"Night mode",onClick:m.toggleNightMode,nightmode:t})),i.a.createElement(wn,{menuIsOpen:a,openedMenuName:o,nightmode:t,direction:d}))})})(xn(),v.widthM,v.widthL),Fn=t(41),kn=t.n(Fn),yn=t(42),Nn=t.n(yn);function Mn(){var n=Object(p.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  & h1 {\n    width: 100%;\n  }\n\n  @media (min-width: ",") {\n    & h1 {\n      font-size: 1.6em;\n    }\n\n    & button {\n      width: 50%;\n    }\n\n    & a {\n      width: 50%;\n    }\n\n    & > div:nth-child(3) {\n      width: calc(40% + 4px);\n      margin-left: -4px;\n    }\n  }\n\n  @media (min-width: ",") {\n    padding-top: 30px;\n\n    & h1 {\n      font-size: 1.8em;\n      width: 50%;\n      margin-top: 30px;\n      margin-bottom: 0;\n    }\n\n    & > div:nth-child(2) {\n      order: 2;\n      margin-left: auto;\n      margin-top: -17px;\n    }\n\n    & > div:nth-child(3) {\n      order: 1;\n      margin-top: auto;\n      width: calc(45% + 2px);\n      margin-left: -2px;\n      margin-bottom: 15px;\n    }\n  }\n"]);return Mn=function(){return n},n}var On=Object(f.a)(function(n){var e=n.className;return i.a.createElement(cn.Consumer,null,function(n){var t=n.nightModeIsOn,a=n.searching,o=n.searchValue,r=n.loading,l=n.matchFilms,c=n.genres,s=n.favorites,d=n.methods;return i.a.createElement("header",{className:e},i.a.createElement("h1",null,"Moviesearcher"),i.a.createElement(K,{searchValue:o,searching:a,matchFilms:l,nightmode:t,loading:r,genres:c,favorites:s,methods:d}),i.a.createElement(X,{justify:"flex-end"},i.a.createElement(on,{as:Q.b,name:"Main",nightmode:t,to:"/",width:"calc(33% / 2)",image:t?kn.a:Nn.a}),i.a.createElement(on,{name:"Night mode",onClick:d.toggleNightMode,nightmode:t})))})})(Mn(),v.widthM,v.widthL);function Sn(){var n=Object(p.a)(['\n  display: flex;\n  flex-flow: row wrap;\n  position: relative;\n  margin-bottom: 20px;\n\n  & h2 {\n    text-align: center;\n    width: 100%;\n  }\n\n  & button {\n    margin: -2px 0 0 auto;\n  }\n\n  &::after {\n    content: "";\n    position: absolute;\n    height: 2px;\n    left: 0;\n    right: 0;\n    top: 0;\n    background-color: lightgrey;\n  }\n\n  @media (min-width: ',") {\n    width: 60%;\n    margin: 0 auto;\n    margin-bottom: 30px;\n\n    &::after {\n      left: -","%;\n      right: -","%;\n    }\n  }\n\n  @media (min-width: ",") {\n    width: 45%;\n    margin: 0;\n    margin-bottom: 30px;\n\n    &::after {\n      display: none;\n    }\n  }\n"]);return Sn=function(){return n},n}var jn=Object(f.a)(function(n){var e=n.className;return i.a.createElement(cn.Consumer,null,function(n){var t=n.nightModeIsOn,a=n.bestMovies,o=n.genres,r=n.favorites,l=n.methods;return i.a.createElement("section",{className:e},i.a.createElement("h2",null,"Best films"),i.a.createElement(J,{nightmode:t,matchFilms:a,toggleFilmToFav:l.toggleFilmToFav,genres:o,favorites:r,autoLoading:l.autoLoading,autoLoadingFunction:l.getBestMovies}))})})(Sn(),v.widthM,20/60*100,20/60*100,v.widthL);function Cn(){var n=Object(p.a)(['\n  display: flex;\n  flex-flow: row wrap;\n  position: relative;\n  margin-bottom: 20px;\n\n  & h2 {\n    text-align: center;\n    width: 100%;\n  }\n\n  & button {\n    margin: -2px 0 0 auto;\n  }\n\n  &::after {\n    content: "";\n    position: absolute;\n    height: 2px;\n    left: 0;\n    right: 0;\n    top: 0;\n    background-color: lightgrey;\n  }\n\n  @media (min-width: ',") {\n    width: 60%;\n    margin: 0 auto;\n    margin-bottom: 30px;\n\n    &::after {\n      left: -","%;\n      right: -","%;\n    }\n  }\n\n  @media (min-width: ",") {\n    width: 45%;\n    margin: 0;\n    margin-bottom: 30px;\n\n    &::after {\n      top: 0;\n      bottom: 0;\n      left: auto;\n      right: calc(-","% - 1px);\n      width: 2px;\n      height: auto;\n    }\n  }\n"]);return Cn=function(){return n},n}var Ln=Object(f.a)(function(n){var e=n.className;return i.a.createElement(cn.Consumer,null,function(n){var t=n.nightModeIsOn,a=n.filteredMovies,o=n.genres,r=n.favorites,l=n.methods;return i.a.createElement("section",{className:e},i.a.createElement("h2",null,"Films by filters"),i.a.createElement(J,{nightmode:t,matchFilms:a,toggleFilmToFav:l.toggleFilmToFav,genres:o,favorites:r,autoLoading:l.autoLoading,autoLoadingFunction:l.getMoreFilteredMovies}))})})(Cn(),v.widthM,20/60*100,20/60*100,v.widthL,5/45*100);function _n(){var n=Object(p.a)(["\n  position: relative;\n  padding-top: 20px;\n\n  @media (min-width: ",") {\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: ",';\n    &::after {\n      content: "";\n      position: absolute;\n      height: 2px;\n      left: 0;\n      right: 0;\n      top: 0;\n      background-color: lightgrey;\n    }\n  }\n']);return _n=function(){return n},n}var Dn=Object(f.a)(function(n){var e=n.className;return i.a.createElement(cn.Consumer,null,function(n){var t=n.filteredMovies,a=n.bestMovies,o=n.openedMenuName,r=n.menuIsOpen,l=n.nightModeIsOn;return(t.length>0||a.length>0)&&!("Profile"===o&&r)&&i.a.createElement("main",{className:e},t.length<1?null:"Profile"===o&&r?null:i.a.createElement(Ln,{nightmode:l}),a.length<1?null:"Profile"===o&&r?null:i.a.createElement(jn,{nightmode:l}))})})(_n(),v.widthL,function(n){return 0!==n.filteredMovies.length?"space-between":"center"});function zn(){var n=Object(p.a)(['\n  display: flex;\n  flex-flow: row wrap;\n  position: relative;\n  margin-bottom: 20px;\n\n  & h2 {\n    text-align: center;\n    width: 100%;\n  }\n\n  & button {\n    margin: -2px 0 0 auto;\n  }\n\n  &::after {\n    content: "";\n    position: absolute;\n    height: 2px;\n    left: 0;\n    right: 0;\n    top: 0;\n    background-color: lightgrey;\n  }\n\n  @media (min-width: ',") {\n    width: 60%;\n    margin: 20px auto 0;\n    margin-bottom: 30px;\n\n    &::after {\n      left: -","%;\n      right: -","%;\n    }\n  }\n\n  @media (min-width: ",") {\n    width: 45%;\n    margin: 30px auto 30px;\n\n    &::after {\n      left: -","%;\n      right: -","%;\n    }\n  }\n"]);return zn=function(){return n},n}var In=i.a.forwardRef(function(n,e){var t=n.similarFilms,a=n.toggleFilmToFav,o=n.nightmode,r=n.favorites,l=n.className,c=n.id,s=n.prevId,d=n.genres,g=n.getSimilarFilms,u=n.autoLoading;return i.a.createElement("section",{className:l},i.a.createElement("h2",null,"Similar films"),i.a.createElement(J,{ref:e,nightmode:o,matchFilms:t,toggleFilmToFav:a,favorites:r,genres:d,autoLoading:u,autoLoadingFunction:function(){return g(c,s)}}))}),Tn=Object(f.a)(In)(zn(),v.widthM,20/60*100,20/60*100,v.widthL,27.5/45*100,27.5/45*100);function Bn(){var n=Object(p.a)(["\n  position: absolute;\n  right: 0;\n  top: 5%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  padding: 5px;\n  background-color: ",";\n\n  & .vote-avg {\n    margin: 0;\n    margin-bottom: 10px;\n    font-size: 2em;\n    color: ",";\n  }\n\n  & .vote-count {\n    margin: 0;\n    align-self: flex-end;\n    color: ",";\n    font-size: 1em;\n  }\n\n  &:hover {\n    opacity: 0.2;\n  }\n"]);return Bn=function(){return n},n}var Pn=Object(f.a)(function(n){var e=n.className,t=n.voteAverage,a=n.voteCount;return i.a.createElement("div",{className:e},t&&i.a.createElement("p",{className:"vote-avg"},t),a&&i.a.createElement("p",{className:"vote-count"},a," votes"))})(Bn(),function(n){return n.nightmode?v.backgroundColorDark:v.fontColorDark},function(n){return n.voteAverage>=7?"mediumseagreen":n.voteAverage>=5?"#f3f300":n.voteAverage>=3?"orange":"orangered"},function(n){return n.nightmode?v.fontColorLight:v.backgroundColorLight});function An(){var n=Object(p.a)(['\n  margin-top: 0;\n  width: 100%;\n  position: relative;\n  font-style: italic;\n  padding-left: 10px;\n\n  &::after {\n    content: "";\n    position: absolute;\n    width: 2px;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    background-color: ',";\n  }\n"]);return An=function(){return n},n}var Vn=f.a.p(An(),function(n){return n.nightmode?v.fontColorLight:v.fontColorDark});function Qn(){var n=Object(p.a)(["\n  width: 25%;\n  height: auto;\n  padding: 0;\n  border: none;\n  background-repeat: no-repeat;\n  background-size: 80% 80%;\n  background-position: 50% 50%;\n  background-color: transparent;\n  background-image: ",";\n  cursor: pointer;\n  &:hover {\n    background-size: 90% 90%;\n    opacity: ",";\n  }\n\n  @media (min-width: ",") {\n    background-size: 70% 70%;\n    &:hover {\n      background-size: 80% 80%;\n    }\n  }\n"]);return Qn=function(){return n},n}var Gn=f.a.button(Qn(),function(n){return n.favorites.some(function(e){return Number(e.id)===Number(n.filmData.id)})?"url(".concat(V.a,")"):n.nightmode?"url(".concat(T.a,")"):"url(".concat(P.a,")")},function(n){return n.favorites.some(function(e){return Number(e.id)===Number(n.filmData.id)})?"0.5":"1"},v.widthM);function Un(){var n=Object(p.a)(["\n  & .image {\n    display: block;\n    width: 100%;\n    height: auto;\n  }\n\n  & .poster-block {\n    position: relative;\n  }\n\n  & .option-name {\n    font-weight: bold;\n  }\n\n  & .overview {\n    &::first-letter {\n      font-size: 1.4em;\n    }\n  }\n\n  & .homepage {\n    & a {\n      color: inherit;\n      &:hover {\n        text-decoration: none;\n      }\n    }\n  }\n\n  & .widgets {\n    display: flex;\n    flex-flow: row wrap;\n  }\n\n  @media (min-width: ",") {\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: space-between;\n\n    & .title {\n      width: 100%;\n    }\n\n    & .poster-block {\n      width: 45%;\n    }\n\n    & .overview {\n      margin-top: 0;\n    }\n\n    & .additional-info {\n      width: 50%;\n    }\n\n    & .widgets {\n      & p {\n        font-size: 0.8em;\n      }\n    }\n  }\n"]);return Un=function(){return n},n}var Rn=function(n){function e(){var n,t;Object(d.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=Object(u.a)(this,(n=Object(m.a)(e)).call.apply(n,[this].concat(o)))).ref=i.a.createRef(),t}return Object(h.a)(e,n),Object(g.a)(e,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.context.methods.loadFilmData(Number(this.props.location.pathname.slice(10))),this.context.methods.getSimilarFilms(Number(this.props.location.pathname.slice(10)),this.context.filmData.id)}},{key:"componentDidUpdate",value:function(n){this.props.location.pathname!==n.location.pathname&&(window.scrollTo(0,0),this.ref.current.scrollTop=0,this.context.methods.loadFilmData(Number(this.props.location.pathname.slice(10))),this.context.methods.getSimilarFilms(Number(this.props.location.pathname.slice(10))))}},{key:"render",value:function(){var n,e,t=this.props.className,a=this.context,o=a.filmData,r=a.nightModeIsOn,c=a.favorites,s=a.similarFilms,d=a.genres,g=a.methods,u=function(n){var e=String(n).split("").reverse();return(e=e.map(function(n,e,t){return(e+1)%3||e+1===t.length?n:" "+n})).reverse().join("")},m=o.genres&&o.genres.map(function(n){return n.name}).join(", "),h=o.release_date&&function(n){var e=n.getDay(),t=["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()],a=n.getFullYear();return"".concat(t," ").concat(e,", ").concat(a)}(new Date(o.release_date)),p=o.production_countries&&o.production_countries.map(function(n){return n.name}).join(", "),f=o.production_companies&&o.production_companies.map(function(n){return n.name}).join(", "),v=o.budget&&u(o.budget),b=o.revenue&&u(o.revenue),w=o.homepage,x=o.runtime&&function(n){if(n<60)return n+" minutes.";var e=Math.floor(n/60),t=n%60;return"".concat(e," ").concat(e>1?"hours":"hour"," ").concat(t," minutes.")}(o.runtime),E=o.tagline;return o.vote_average&&(n=1===String(o.vote_average).length?[].concat(Object(l.a)(String(o.vote_average).split("")),[".","0"]).join(""):o.vote_average,e=o.vote_count),o?i.a.createElement("main",{className:t},i.a.createElement("h2",{className:"title"},o.title||"No title."),E&&i.a.createElement(Vn,{nightmode:r},E),i.a.createElement("div",{className:"poster-block"},i.a.createElement("img",{className:"image",src:o.poster_path?"https://image.tmdb.org/t/p/w400/".concat(o.poster_path):z.a,alt:o.title||"No title."}),n&&i.a.createElement(Pn,{voteAverage:n,voteCount:e,nightmode:r}),i.a.createElement("div",{className:"widgets"},i.a.createElement(Gn,{onClick:function(){g.toggleFilmToFav({id:o.id,poster_path:o.poster_path,title:o.title,release_date:o.release_date,vote_average:o.vote_average,vote_count:o.vote_count,genresOfFilm:m})},favorites:c,filmData:o,nightmode:r}),i.a.createElement(ln,{color:"orangered",width:"75%"},"Estimating is unavailable at the moment."))),i.a.createElement("div",{className:"additional-info"},o.overview&&i.a.createElement("p",{className:"overview"},o.overview),m&&i.a.createElement("p",{className:"genres"},i.a.createElement("span",{className:"option-name"},"Genres:")," ",m,"."),x&&i.a.createElement("p",{className:"runtime"},i.a.createElement("span",{className:"option-name"},"Runtime:")," ",x),h&&i.a.createElement("time",{className:"date",dateTime:o.release_date},i.a.createElement("span",{className:"option-name"},"Release date:")," ",h,"."),p&&i.a.createElement("p",{className:"counries"},i.a.createElement("span",{className:"option-name"},"Counries:")," ",p,"."),f&&i.a.createElement("p",{className:"companies"},i.a.createElement("span",{className:"option-name"},"Companies:")," ",f,"."),Boolean(v)&&i.a.createElement("p",{className:"budget"},i.a.createElement("span",{className:"option-name"},"Budget:")," $",v,"."),Boolean(b)&&i.a.createElement("p",{className:"revenue"},i.a.createElement("span",{className:"option-name"},"Revenue:")," $",b,"."),w&&i.a.createElement("p",{className:"homepage"},i.a.createElement("span",{className:"option-name"},"Homepage:")," ",i.a.createElement("a",{href:"".concat(w)},"Link"))),s.length>0&&i.a.createElement(Tn,{ref:this.ref,id:Number(this.props.location.pathname.slice(10)),prevId:o.id,similarFilms:s,toggleFilmToFav:g.toggleFilmToFav,nightmode:r,genres:d,favorites:c,getSimilarFilms:g.getSimilarFilms,autoLoading:g.autoLoading})):null}}]),e}(i.a.Component);Rn.contextType=cn;var Hn=Object(f.a)(Rn)(Un(),v.widthM),Jn=t(9),Yn=function(){return i.a.createElement(cn.Consumer,null,function(n){var e=n.filteredMovies;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Jn.c,null,i.a.createElement(Jn.a,{path:"/",exact:!0,component:En}),i.a.createElement(Jn.a,{path:"/filmpage/",component:On})),i.a.createElement(Jn.c,null,i.a.createElement(Jn.a,{path:"/",exact:!0,render:function(n){return i.a.createElement(Dn,{filteredMovies:e})}}),i.a.createElement(Jn.a,{path:"/filmpage/",render:function(n){return i.a.createElement(Hn,n)}})))})},$n=function(n){function e(){var n,t;Object(d.a)(this,e);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=Object(u.a)(this,(n=Object(m.a)(e)).call.apply(n,[this].concat(i)))).state={loading:!0,userAuthorized:!1,userAvatar:null,defaultAvatar:S.a,userName:null,defaultName:"The Guest",genres:null,sortingOptions:["popularity","votes","rating","date"],sortBy:"popularity",direction:"descending",filteredMovies:[],filteredMoviesPage:1,bestMovies:[],bestMoviesPage:1,searchValue:"",searching:!1,matchFilms:null,favorites:[],openedMenuName:"",menuIsOpen:!1,nightModeIsOn:!1,filmData:{},similarFilms:[],similarFilmsPage:1,methods:{autoLoading:function(n,e){t.autoLoading(n,e)},getSortingOption:function(){t.getSortingOption()},toggleGenre:function(n){t.toggleGenre(n)},toggleSorting:function(n){t.toggleSorting(n)},toggleDirection:function(n){t.toggleDirection(n)},getBestMovies:function(){t.getBestMovies()},getFilteredMovies:function(){t.getFilteredMovies()},getMoreFilteredMovies:function(){t.getMoreFilteredMovies()},searchFilms:function(){t.searchFilms()},toggleFilmToFav:function(n){t.toggleFilmToFav(n)},loadFilmData:function(n){t.loadFilmData(n)},getSimilarFilms:function(n,e){t.getSimilarFilms(n,e)},changeSearchValue:function(n){t.changeSearchValue(n)},clearSearchValue:function(n){t.clearSearchValue(n)},enableSearching:function(){t.enableSearching()},disableSearching:function(){t.disableSearching()},toggleMenu:function(n){t.toggleMenu(n)},toggleNightMode:function(n){t.toggleNightMode(n)}}},t.getSortingOption=function(){var n;return"popularity"===t.state.sortBy&&(n="descending"===t.state.direction?"popularity.desc":"popularity.asc"),"date"===t.state.sortBy&&(n="descending"===t.state.direction?"release_date.desc":"release_date.asc"),"rating"===t.state.sortBy&&(n="descending"===t.state.direction?"vote_average.desc":"vote_average.asc"),"votes"===t.state.sortBy&&(n="descending"===t.state.direction?"vote_count.desc":"vote_count.asc"),n},t.getGenres=function(){fetch(_.getGenresQuery()).then(function(n){return n.json()}).then(function(n){var e=n.genres.reduce(function(n,e){return n[e.name]={id:e.id,enabled:!1},n},{});t.setState({genres:e})}).catch(function(n){alert("Error on fetching genres: ".concat(n))})},t.toggleGenre=function(n){var e=n.target.name;t.setState({genres:Object(s.a)({},t.state.genres,Object(c.a)({},e,Object(s.a)({},t.state.genres[e],{enabled:!t.state.genres[e].enabled})))})},t.toggleSorting=function(n){t.setState({sortBy:n.target.value})},t.toggleDirection=function(n){t.setState({direction:n.target.value})},t.getBestMovies=function(){t.setState({loading:!0}),fetch(_.getBestFilmsQuery(t.state.bestMoviesPage)).then(function(n){return n.json()}).then(function(n){var e=n.results;t.setState(function(n){return{bestMovies:Object(l.a)(n.bestMovies).concat(e),bestMoviesPage:++n.bestMoviesPage,loading:!1}})}).catch(function(n){alert("Error on fetching best films: ".concat(n))})},t.getFilteredMovies=function(){t.setState({loading:!0});var n=[];for(var e in t.state.genres)!0===t.state.genres[e].enabled&&(n=[].concat(Object(l.a)(n),[t.state.genres[e].id]));if(n.length>0){var a=encodeURIComponent(n.join(",")),i=t.getSortingOption();fetch(_.getFilteredFilmsQuery(i,1,a)).then(function(n){return n.json()}).then(function(n){var e=n.results;t.setState({filteredMovies:e,filteredMoviesPage:1,loading:!1})}).catch(function(n){alert("Error on getting films by filters: ".concat(n))})}else n.length<1&&t.setState({filteredMovies:[],filteredMoviesPage:1,loading:!1})},t.getMoreFilteredMovies=function(){t.setState({loading:!0});var n=[];for(var e in t.state.genres)!0===t.state.genres[e].enabled&&(n=[].concat(Object(l.a)(n),[t.state.genres[e].id]));var a=encodeURIComponent(n.join(",")),i=t.state.filteredMoviesPage,o=t.getSortingOption();fetch(_.getFilteredFilmsQuery(o,++i,a)).then(function(n){return n.json()}).then(function(n){var e=n.results;t.setState(function(n){return{filteredMovies:Object(l.a)(n.filteredMovies).concat(e),filteredMoviesPage:++n.filteredMoviesPage,loading:!1}})}).catch(function(n){alert("Error on getting additional films by filters: ".concat(n))})},t.searchFilms=Object(j.debounce)(function(){if(t.state.searchValue){t.setState({loading:!0});var n=encodeURIComponent(t.state.searchValue);fetch(_.getSearchByStringQuery("en-US",n)).then(function(n){return n.json()}).then(function(n){var e=M(n);t.setState({matchFilms:e,loading:!1})}).catch(function(n){alert("Error on searching films: ".concat(n))})}t.state.searchValue||t.setState({matchFilms:[],loading:!1})},1500),t.getFavFilms=function(){localStorage.favorites&&t.setState({favorites:Object(l.a)(JSON.parse(localStorage.favorites))})},t.toggleFilmToFav=function(n){var e=n.id,a=t.state.favorites;if(a.some(function(n){return n.id===e})){var i=a.filter(function(n){return n.id!==e});t.setState({favorites:i}),localStorage.favorites=JSON.stringify(i)}else{var o=[Object(s.a)({},n)].concat(Object(l.a)(t.state.favorites));t.setState({favorites:o}),localStorage.favorites=JSON.stringify(o)}},t.loadFilmData=function(n){n!==t.state.filmData.id&&(t.setState({loading:!0,searching:!1}),fetch(_.getFilmDataQuery(n)).then(function(n){return n.json()}).then(function(n){t.setState({filmData:n,loading:!1})}).catch(function(n){alert("Error on loading film data: ".concat(n))}))},t.getSimilarFilms=function(n,e){t.setState({loading:!0});var a=n===e?t.state.similarFilmsPage+1:1;fetch(_.getSimilarFilmsQuery(n,a)).then(function(n){return n.json()}).then(function(a){var i=a.results;n===e?t.setState(function(n){return{similarFilms:Object(l.a)(n.similarFilms).concat(i),similarFilmsPage:++n.similarFilmsPage,loading:!1}}):t.setState({similarFilms:i,similarFilmsPage:1,loading:!1})}).catch(function(n){alert("Error on fetching similar films: ".concat(n))})},t.changeSearchValue=function(n){n.preventDefault();var e=n.target.value;t.setState({searchValue:e})},t.clearSearchValue=function(n){n.focus(),t.setState({searchValue:"",matchFilms:null})},t.enableSearching=function(){t.setState({searching:!0})},t.disableSearching=function(){t.setState({searching:!1})},t.toggleMenu=function(n){n.preventDefault(),n.target.name===t.state.openedMenuName?t.setState({menuIsOpen:!t.state.menuIsOpen}):t.setState({openedMenuName:n.target.name,menuIsOpen:!0})},t.toggleNightMode=function(n){n.preventDefault(),t.setState({nightModeIsOn:!t.state.nightModeIsOn})},t.autoLoading=function(n,e){n.scrollHeight-(n.scrollTop+n.offsetHeight)<240&&e()},t}return Object(h.a)(e,n),Object(g.a)(e,[{key:"componentDidMount",value:function(){this.getGenres(),this.getFavFilms(),this.getBestMovies()}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(L.a,{title:~window.location.pathname.indexOf("filmpage")?this.state.filmData.title:"Profile"===this.state.openedMenuName&&this.state.menuIsOpen?"Profile":"Moviesearcher"}),i.a.createElement(cn.Provider,{value:this.state},i.a.createElement(k,{nightmode:this.state.nightModeIsOn},i.a.createElement(N,null,this.state.loading&&i.a.createElement(w,{nightmode:this.state.nightModeIsOn},"Loading..."),i.a.createElement(Yn,null),i.a.createElement(E,{nightmode:this.state.nightModeIsOn})))))}}]),e}(a.Component);r.a.render(i.a.createElement(Q.a,{basename:"/moviesearcher"},i.a.createElement($n,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.344be878.chunk.js.map